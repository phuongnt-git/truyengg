<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"
    />
    <meta name="color-scheme" content="light" />
    <title>Nh√¨n l·∫°i Grab 2025</title>
    <style>
      :root {
        --bg1: #bff2cf;
        --bg2: #f7f5df;
        --bg3: #e9f0ff;
        --card: rgba(255, 255, 255, 0.74);
        --card-border: rgba(22, 163, 74, 0.16);
        --text: #0f172a;
        --muted: rgba(15, 23, 42, 0.62);
        --green: #16a34a;
        --green-700: #0f7a37;
        --shadow: 0 24px 64px rgba(2, 6, 23, 0.12);
        --radius: 22px;
        --safe-top: env(safe-area-inset-top, 0px);
        --safe-right: env(safe-area-inset-right, 0px);
        --safe-bottom: env(safe-area-inset-bottom, 0px);
        --safe-left: env(safe-area-inset-left, 0px);
      }

      * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      html,
      body {
        height: 100%;
        margin: 0;
        font-family:
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          Helvetica,
          Arial,
          "Apple Color Emoji",
          "Segoe UI Emoji";
        color: var(--text);
        background: linear-gradient(135deg, var(--bg1), var(--bg2) 55%, var(--bg3));
      }

      body {
        overflow: hidden;
      }

      .viewport {
        height: 100%;
        padding: calc(14px + var(--safe-top)) calc(14px + var(--safe-right))
          calc(14px + var(--safe-bottom)) calc(14px + var(--safe-left));
      }

      .story {
        height: 100%;
        display: flex;
        overflow-x: auto;
        overflow-y: hidden;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        gap: 16px;
        padding-bottom: 2px;
      }
      .story::-webkit-scrollbar {
        display: none;
      }

      .slide {
        flex: 0 0 calc(100% - 0px);
        height: 100%;
        scroll-snap-align: start;
        position: relative;
      }

      .card {
        height: 100%;
        border-radius: var(--radius);
        background: radial-gradient(
            1200px 400px at 40% 10%,
            rgba(22, 163, 74, 0.12),
            transparent 60%
          ),
          radial-gradient(900px 520px at 70% 25%, rgba(59, 130, 246, 0.08), transparent 62%),
          var(--card);
        border: 1px solid var(--card-border);
        box-shadow: var(--shadow);
        overflow: hidden;
      }

      .chrome {
        position: absolute;
        inset: 14px;
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 9px 12px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.72);
        border: 1px solid rgba(15, 23, 42, 0.08);
        color: rgba(15, 23, 42, 0.78);
        font-weight: 600;
        font-size: 13px;
        line-height: 1;
        backdrop-filter: blur(8px);
      }

      .pill .dot {
        width: 10px;
        height: 10px;
        border-radius: 999px;
        background: var(--green);
        box-shadow: 0 0 0 4px rgba(22, 163, 74, 0.18);
        flex: 0 0 auto;
      }

      .badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 10px 14px;
        border-radius: 999px;
        background: rgba(253, 230, 138, 0.62);
        border: 1px solid rgba(245, 158, 11, 0.24);
        color: rgba(12, 74, 110, 0.9);
        font-weight: 800;
        font-size: 13px;
        gap: 8px;
        backdrop-filter: blur(8px);
      }

      .year {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 62px;
        height: 38px;
        border-radius: 999px;
        background: rgba(209, 250, 229, 0.84);
        border: 1px solid rgba(22, 163, 74, 0.18);
        color: rgba(12, 74, 110, 0.85);
        font-weight: 800;
        font-size: 13px;
      }

      .content {
        flex: 1;
        min-height: 0;
        padding: 10px 6px 0 6px;
      }

      .title {
        font-size: 30px;
        line-height: 1.15;
        letter-spacing: -0.02em;
        margin: 14px 0 10px;
        font-weight: 900;
      }

      .title .name {
        color: var(--text);
        white-space: nowrap;
      }

      .sub {
        margin: 0 0 14px;
        color: var(--muted);
        font-size: 14px;
        line-height: 1.55;
      }

      .hint {
        color: rgba(15, 23, 42, 0.5);
        font-size: 13px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding: 10px 4px 0;
      }

      .stats {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-top: 14px;
      }

      .stat {
        display: grid;
        grid-template-columns: 46px 1fr;
        gap: 12px;
        align-items: start;
        padding: 12px 12px;
        background: rgba(255, 255, 255, 0.62);
        border: 1px solid rgba(15, 23, 42, 0.08);
        border-radius: 16px;
        backdrop-filter: blur(10px);
      }

      .emoji {
        width: 46px;
        height: 46px;
        border-radius: 14px;
        display: grid;
        place-items: center;
        background: rgba(22, 163, 74, 0.08);
        border: 1px solid rgba(22, 163, 74, 0.14);
        font-size: 22px;
      }

      .stat .kpi {
        font-weight: 900;
        font-size: 18px;
        line-height: 1.2;
        margin: 0;
      }

      .stat .desc {
        margin: 6px 0 0;
        color: var(--muted);
        font-size: 13px;
        line-height: 1.5;
      }

      .quote {
        margin-top: 14px;
        padding: 14px 14px;
        border-radius: 16px;
        background: rgba(209, 250, 229, 0.6);
        border: 1px solid rgba(22, 163, 74, 0.18);
        color: rgba(12, 74, 110, 0.88);
        font-weight: 800;
        line-height: 1.5;
      }

      .quote .big {
        display: block;
        font-size: 18px;
        margin-top: 6px;
        color: rgba(15, 23, 42, 0.9);
      }

      .footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        padding: 12px 6px 0 6px;
      }

      .btn {
        border: none;
        cursor: pointer;
        appearance: none;
        -webkit-appearance: none;
        border-radius: 999px;
        padding: 12px 16px;
        font-weight: 900;
        font-size: 14px;
        box-shadow: 0 12px 24px rgba(22, 163, 74, 0.18);
      }
      .btn:active {
        transform: translateY(1px);
      }

      .btn-next {
        margin-left: auto;
        background: var(--green);
        color: white;
      }

      .btn-share {
        background: var(--green);
        color: white;
        width: 100%;
      }

      .muted {
        color: rgba(15, 23, 42, 0.58);
        font-size: 12px;
      }

      .fineprint {
        margin-top: 14px;
        padding: 12px 12px;
        border-radius: 16px;
        background: rgba(255, 255, 255, 0.6);
        border: 1px solid rgba(15, 23, 42, 0.08);
        color: rgba(15, 23, 42, 0.78);
        font-size: 13px;
        line-height: 1.55;
      }

      .signature {
        margin-top: 12px;
        color: rgba(15, 23, 42, 0.74);
        font-size: 13px;
        line-height: 1.55;
      }

      .pager {
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.22);
      }
      .dot.is-active {
        width: 18px;
        background: rgba(22, 163, 74, 0.88);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
  </head>
  <body>
    <div class="viewport">
      <div id="story" class="story" aria-label="Nh√¨n l·∫°i Grab 2025 - vu·ªët ngang ƒë·ªÉ xem">
        <!-- Slide 1 -->
        <section class="slide" aria-label="M·ªü ƒë·∫ßu">
          <div class="card">
            <div class="chrome">
              <div class="topbar">
                <div class="pill"><span class="dot" aria-hidden="true"></span>Nh√¨n l·∫°i Grab 2025</div>
                <div class="year">2025</div>
              </div>

              <div class="content">
                <div class="badge">‚ú¶ <span>M·ªü ƒë·∫ßu</span></div>
                <h1 class="title">
                  ƒê·ªëi t√°c <span class="name" data-var="partner_name">Nguy·ªÖn VƒÉn A</span> th√¢n m·∫øn üíö
                </h1>
                <p class="sub">
                  NƒÉm 2025 v·ª´a kh√©p l·∫°i, ƒê·ªëi t√°c c√≥ t√≤ m√≤ r·∫±ng b·∫£n th√¢n ƒë√£ ho·∫°t ƒë·ªông nh∆∞ th·∫ø n√†o trong nƒÉm
                  qua kh√¥ng? H√£y c√πng Grab nh√¨n l·∫°i t·∫°i ƒë√¢y nh√©:
                </p>
                <p class="sub">üëâ S·ªë l∆∞·ª£ng chuy·∫øn xe ƒê·ªëi t√°c ho√†n th√†nh theo lo·∫°i d·ªãch v·ª•:</p>
              </div>

              <div class="footer">
                <div class="hint">
                  <span>Vu·ªët ngang ƒë·ªÉ xem ti·∫øp.</span>
                  <span class="pager" aria-hidden="true">
                    <span class="dot is-active"></span><span class="dot"></span><span class="dot"></span
                    ><span class="dot"></span>
                  </span>
                </div>
                <button class="btn btn-next" type="button" data-action="next">Ti·∫øp</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 2 -->
        <section class="slide" aria-label="S·ªë chuy·∫øn theo d·ªãch v·ª•">
          <div class="card">
            <div class="chrome">
              <div class="topbar">
                <div class="pill"><span class="dot" aria-hidden="true"></span>Nh√¨n l·∫°i Grab 2025</div>
                <div class="year">2025</div>
              </div>

              <div class="content">
                <h2 class="title" style="font-size: 26px; margin-top: 6px">S·ªë chuy·∫øn theo lo·∫°i d·ªãch v·ª•</h2>
                <div class="stats">
                  <div class="stat">
                    <div class="emoji" aria-hidden="true">üõµ</div>
                    <div>
                      <p class="kpi"><span data-var="grab_bike_trips">1.000</span> chuy·∫øn xe GrabBike</p>
                      <p class="desc">gi√∫p nhi·ªÅu H√†nh kh√°ch ‚Äúƒëi ƒë·∫øn n∆°i, v·ªÅ ƒë·∫øn ch·ªën‚Äù</p>
                    </div>
                  </div>
                  <div class="stat">
                    <div class="emoji" aria-hidden="true">üçúüõí</div>
                    <div>
                      <p class="kpi">
                        <span data-var="grab_food_mart_trips">1.000</span> chuy·∫øn xe GrabFood v√† GrabMart
                      </p>
                      <p class="desc">
                        gi√∫p nhi·ªÅu Ng∆∞·ªùi d√πng nh·∫≠n nh·ªØng m√≥n h√†ng thi·∫øt y·∫øu, nh·ªØng b·ªØa ƒÉn v·∫πn tr√≤n
                      </p>
                    </div>
                  </div>
                  <div class="stat">
                    <div class="emoji" aria-hidden="true">üì¶</div>
                    <div>
                      <p class="kpi"><span data-var="grab_express_trips">1.000</span> chuy·∫øn xe GrabExpress</p>
                      <p class="desc">ƒë·ªÉ Ng∆∞·ªùi d√πng c√≥ th·ªÉ nh·∫≠n t·∫≠n tay nh·ªØng ki·ªán h√†ng k·ªãp th·ªùi v√† ƒë√∫ng l√∫c.</p>
                    </div>
                  </div>
                </div>

                <div class="quote">
                  ‚ÄúV·ªõi t·∫ßn su·∫•t v·∫≠n h√†nh nh∆∞ v·∫≠y, ƒë√≠ch th·ªã ƒê·ªëi t√°c ch√≠nh l√†:
                  <span class="big">ƒê·∫°i s·ª© an to√†n</span>
                  v√¨ mang l·∫°i s·ª± an t√¢m tr√™n m·ªçi n·∫ªo ƒë∆∞·ªùng‚Äù
                </div>
              </div>

              <div class="footer">
                <div class="hint">
                  <span>Vu·ªët ngang ƒë·ªÉ xem ti·∫øp.</span>
                  <span class="pager" aria-hidden="true">
                    <span class="dot"></span><span class="dot is-active"></span><span class="dot"></span
                    ><span class="dot"></span>
                  </span>
                </div>
                <button class="btn btn-next" type="button" data-action="next">Ti·∫øp</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 3 -->
        <section class="slide" aria-label="ƒê√°nh gi√° v√† huy hi·ªáu">
          <div class="card">
            <div class="chrome">
              <div class="topbar">
                <div class="pill"><span class="dot" aria-hidden="true"></span>Nh√¨n l·∫°i Grab 2025</div>
                <div class="year">2025</div>
              </div>

              <div class="content">
                <h2 class="title" style="font-size: 26px; margin-top: 6px">Th√†nh t√≠ch n·ªïi b·∫≠t</h2>
                <div class="fineprint">
                  Ngo√†i ra, ƒê·ªëi t√°c ƒë√£ ‚Äúthu ho·∫°ch‚Äù ƒë∆∞·ª£c
                  <b><span data-var="five_star_count">500</span> ƒë√°nh gi√° 5 sao</b>, chi·∫øm
                  <b><span data-var="five_star_percent">{{%_5starsreviewsreview}}</span></b> tr√™n t·ªïng s·ªë l∆∞·ª£ng
                  ƒë√°nh gi√° 5 sao m√† ƒê·ªëi t√°c ƒë√£ nh·∫≠n ƒë∆∞·ª£c t·ª´ Ng∆∞·ªùi d√πng.
                  <br /><br />
                  Trong ƒë√≥, <b>T√†i x·∫ø nhi·ªát t√¨nh</b> l√† lo·∫°i huy hi·ªáu ƒê·ªëi t√°c nh·∫≠n ƒë∆∞·ª£c nhi·ªÅu nh·∫•t.
                </div>
              </div>

              <div class="footer">
                <div class="hint">
                  <span>Vu·ªët ngang ƒë·ªÉ xem ti·∫øp.</span>
                  <span class="pager" aria-hidden="true">
                    <span class="dot"></span><span class="dot"></span><span class="dot is-active"></span
                    ><span class="dot"></span>
                  </span>
                </div>
                <button class="btn btn-next" type="button" data-action="next">Ti·∫øp</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Slide 4 -->
        <section class="slide" aria-label="T·ª∑ l·ªá h·ªßy chuy·∫øn v√† chia s·∫ª">
          <div class="card">
            <div class="chrome">
              <div class="topbar">
                <div class="pill"><span class="dot" aria-hidden="true"></span>Nh√¨n l·∫°i Grab 2025</div>
                <div class="year">2025</div>
              </div>

              <div class="content">
                <h2 class="title" style="font-size: 26px; margin-top: 6px">Ti·∫øp t·ª•c b·ª©t ph√° 2026</h2>
                <div class="fineprint">
                  ‚ÄúT·ª∑ l·ªá h·ªßy chuy·∫øn trung b√¨nh trong nƒÉm 2025 c·ªßa ƒê·ªëi t√°c l√†
                  <b><span data-var="cancel_rate">0.5%</span></b>
                  <br /><br />
                  H√£y ti·∫øp t·ª•c c·∫£i thi·ªán t·ª∑ l·ªá nh·∫≠n n√†y ƒë·ªÉ nh·∫≠n th√™m nhi·ªÅu c∆° h·ªôi gia tƒÉng thu nh·∫≠p trong nƒÉm
                  2026!‚Äù
                </div>

                <div class="signature">
                  ‚ÄúH√£y d√†nh l·ªùi c√°m ∆°n ƒë·∫øn b·∫£n th√¢n v√¨ ƒë√£ kh√¥ng ng·ª´ng c·ªë g·∫Øng trong nƒÉm 2025. Gi·ªù th√¨ h√£y
                  chia s·∫ª th√†nh t√≠ch n√†y ƒë·∫øn c√°c ‚Äúchi·∫øn h·ªØu‚Äù Grab nh√©!
                  <br /><br />
                  M·∫øn ch√∫c ƒê·ªëi t√°c lu√¥n ho·∫°t ƒë·ªông hi·ªáu qu·∫£ v√† an to√†n tr√™n m·ªçi n·∫ªo ƒë∆∞·ªùng üíö
                  <br /><br />
                  Tr√¢n tr·ªçng,<br />
                  ƒê·ªôi ng≈© Grab‚Äù
                </div>
              </div>

              <div class="footer">
                <span class="muted" id="shareStatus" aria-live="polite"></span>
                <button class="btn btn-share" type="button" data-action="share">KHOE CHI·∫æN T√çCH NGAY</button>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>

    <script>
      (function () {
        const story = document.getElementById("story");
        const shareStatus = document.getElementById("shareStatus");
        const slides = Array.from(story.querySelectorAll(".slide"));

        function clamp(n, min, max) {
          return Math.max(min, Math.min(max, n));
        }

        function getCurrentIndex() {
          const x = story.scrollLeft;
          const w = story.clientWidth + 16; // includes gap
          return clamp(Math.round(x / w), 0, slides.length - 1);
        }

        function scrollToIndex(idx) {
          const w = story.clientWidth + 16;
          story.scrollTo({ left: idx * w, behavior: "smooth" });
        }

        function buildShareText() {
          const name = document.querySelector('[data-var="partner_name"]')?.textContent?.trim() || "ƒê·ªëi t√°c";
          const bike = document.querySelector('[data-var="grab_bike_trips"]')?.textContent?.trim() || "";
          const food = document
            .querySelector('[data-var="grab_food_mart_trips"]')
            ?.textContent?.trim() || "";
          const express = document.querySelector('[data-var="grab_express_trips"]')?.textContent?.trim() || "";
          const stars = document.querySelector('[data-var="five_star_count"]')?.textContent?.trim() || "";
          const cancel = document.querySelector('[data-var="cancel_rate"]')?.textContent?.trim() || "";

          return [
            `Nh√¨n l·∫°i Grab 2025`,
            `ƒê·ªëi t√°c ${name} th√¢n m·∫øn üíö`,
            ``,
            `üõµ ${bike} chuy·∫øn GrabBike`,
            `üçúüõí ${food} chuy·∫øn GrabFood & GrabMart`,
            `üì¶ ${express} chuy·∫øn GrabExpress`,
            ``,
            `‚≠ê ${stars} ƒë√°nh gi√° 5 sao`,
            `‚ùå T·ª∑ l·ªá h·ªßy: ${cancel}`,
          ].join("\n");
        }

        async function share() {
          const payload = {
            type: "GRAB_LOOKBACK_2025_SHARE",
            text: buildShareText(),
          };

          // RN WebView
          if (window.ReactNativeWebView && typeof window.ReactNativeWebView.postMessage === "function") {
            window.ReactNativeWebView.postMessage(JSON.stringify(payload));
            shareStatus.textContent = "ƒê√£ g·ª≠i y√™u c·∫ßu chia s·∫ª.";
            return;
          }

          // iOS WKWebView bridge (common naming patterns)
          const handler =
            window.webkit?.messageHandlers?.share ||
            window.webkit?.messageHandlers?.grab ||
            window.webkit?.messageHandlers?.native;
          if (handler && typeof handler.postMessage === "function") {
            handler.postMessage(payload);
            shareStatus.textContent = "ƒê√£ g·ª≠i y√™u c·∫ßu chia s·∫ª.";
            return;
          }

          // Web Share API fallback
          if (navigator.share) {
            try {
              await navigator.share({ text: payload.text, title: "Nh√¨n l·∫°i Grab 2025" });
              shareStatus.textContent = "ƒê√£ m·ªü chia s·∫ª.";
              return;
            } catch (e) {
              // user cancelled -> silent
            }
          }

          // Clipboard fallback
          try {
            await navigator.clipboard.writeText(payload.text);
            shareStatus.textContent = "ƒê√£ sao ch√©p n·ªôi dung ƒë·ªÉ chia s·∫ª.";
          } catch (e) {
            shareStatus.textContent = "Kh√¥ng th·ªÉ chia s·∫ª t·ª± ƒë·ªông tr√™n thi·∫øt b·ªã n√†y.";
          }
        }

        story.addEventListener(
          "click",
          function (e) {
            const btn = e.target.closest("[data-action]");
            if (!btn) return;
            const action = btn.getAttribute("data-action");
            if (action === "next") scrollToIndex(getCurrentIndex() + 1);
            if (action === "share") share();
          },
          { passive: true }
        );

        // Improve snapping accuracy on some WebViews
        let snapTimer = null;
        story.addEventListener(
          "scroll",
          function () {
            clearTimeout(snapTimer);
            snapTimer = setTimeout(function () {
              scrollToIndex(getCurrentIndex());
            }, 120);
          },
          { passive: true }
        );
      })();
    </script>
  </body>
</html>
