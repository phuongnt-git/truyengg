<!doctype html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no"
    />
    <meta name="theme-color" content="#0b1020" />
    <title>Rewind 2025 ‚Äì In-app Story</title>
    <style>
      :root {
        --bg0: #070a13;
        --bg1: #0b1020;
        --card: rgba(255, 255, 255, 0.08);
        --card2: rgba(255, 255, 255, 0.12);
        --stroke: rgba(255, 255, 255, 0.14);
        --text: rgba(255, 255, 255, 0.92);
        --muted: rgba(255, 255, 255, 0.7);
        --faint: rgba(255, 255, 255, 0.55);
        --accent: #00d48f;
        --accent2: #7c4dff;
        --warn: #ffcc4d;
        --danger: #ff4d6d;
        --shadow: 0 18px 60px rgba(0, 0, 0, 0.42);
        --radius: 22px;
        --radius2: 28px;
        --safeT: env(safe-area-inset-top);
        --safeB: env(safe-area-inset-bottom);
        --safeL: env(safe-area-inset-left);
        --safeR: env(safe-area-inset-right);
      }

      * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      html,
      body {
        height: 100%;
      }

      body {
        margin: 0;
        font-family:
          ui-sans-serif,
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          Helvetica,
          Arial,
          "Apple Color Emoji",
          "Segoe UI Emoji";
        color: var(--text);
        background:
          radial-gradient(900px 700px at 8% 12%, rgba(124, 77, 255, 0.22), transparent 55%),
          radial-gradient(1000px 800px at 95% 15%, rgba(0, 212, 143, 0.18), transparent 60%),
          radial-gradient(900px 800px at 50% 100%, rgba(255, 77, 109, 0.12), transparent 62%),
          linear-gradient(180deg, var(--bg0), var(--bg1) 70%, #070a13);
        overflow: hidden;
      }

      .app {
        height: 100%;
        position: relative;
        padding: calc(10px + var(--safeT)) calc(14px + var(--safeR))
          calc(12px + var(--safeB)) calc(14px + var(--safeL));
      }

      /* Subtle film grain */
      .app::before {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        opacity: 0.06;
        background-image:
          url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
        mix-blend-mode: overlay;
      }

      .topbar {
        position: relative;
        z-index: 5;
        display: grid;
        gap: 10px;
      }

      .progress {
        height: 3px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.12);
        overflow: hidden;
      }
      .progress > i {
        display: block;
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, var(--accent), var(--accent2));
        border-radius: inherit;
        transition: width 240ms ease;
      }

      .headerRow {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 0;
      }
      .badge {
        width: 36px;
        height: 36px;
        border-radius: 12px;
        background:
          radial-gradient(14px 14px at 30% 30%, rgba(255, 255, 255, 0.7), transparent 55%),
          linear-gradient(135deg, rgba(0, 212, 143, 0.95), rgba(124, 77, 255, 0.9));
        box-shadow: 0 10px 24px rgba(0, 0, 0, 0.25);
        display: grid;
        place-items: center;
        flex: 0 0 auto;
      }
      .badge svg {
        width: 18px;
        height: 18px;
        opacity: 0.95;
        filter: drop-shadow(0 6px 14px rgba(0, 0, 0, 0.25));
      }
      .brandText {
        display: grid;
        line-height: 1.05;
        min-width: 0;
      }
      .brandText .kicker {
        font-size: 12px;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        color: var(--faint);
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      .brandText .title {
        font-size: 14px;
        font-weight: 700;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .actions {
        display: flex;
        align-items: center;
        gap: 8px;
        flex: 0 0 auto;
      }

      .btn {
        appearance: none;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(255, 255, 255, 0.06);
        color: var(--text);
        padding: 10px 12px;
        border-radius: 14px;
        font-weight: 700;
        font-size: 13px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 10px 24px rgba(0, 0, 0, 0.22);
        cursor: pointer;
        user-select: none;
      }
      .btn:active {
        transform: translateY(1px);
      }
      .btn[disabled] {
        opacity: 0.45;
        cursor: default;
      }
      .btnPrimary {
        border-color: rgba(0, 212, 143, 0.35);
        background: linear-gradient(135deg, rgba(0, 212, 143, 0.9), rgba(124, 77, 255, 0.75));
      }
      .btnGhost {
        background: rgba(255, 255, 255, 0.04);
      }

      .story {
        position: relative;
        z-index: 2;
        margin-top: 12px;
        height: calc(100% - 74px);
        border-radius: var(--radius2);
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(0, 0, 0, 0.14);
        box-shadow: var(--shadow);
      }

      .rail {
        height: 100%;
        display: flex;
        overflow-x: auto;
        overflow-y: hidden;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
        overscroll-behavior-x: contain;
        -webkit-overflow-scrolling: touch;
      }
      .rail::-webkit-scrollbar {
        display: none;
      }

      .slide {
        scroll-snap-align: start;
        width: 100%;
        height: 100%;
        flex: 0 0 100%;
        position: relative;
        padding: 20px 18px 18px;
        display: grid;
        align-content: center;
        gap: 14px;
      }

      .backdrop {
        position: absolute;
        inset: -40px;
        z-index: 0;
        pointer-events: none;
        opacity: 0.9;
        filter: blur(0px);
      }
      .blob {
        position: absolute;
        border-radius: 999px;
        filter: blur(18px);
        opacity: 0.55;
        transform: translateZ(0);
        animation: float 7s ease-in-out infinite;
      }
      .blob.b1 {
        width: 240px;
        height: 240px;
        left: -60px;
        top: 30px;
        background: radial-gradient(circle at 30% 30%, rgba(124, 77, 255, 0.8), rgba(124, 77, 255, 0.05));
      }
      .blob.b2 {
        width: 320px;
        height: 320px;
        right: -100px;
        top: 110px;
        animation-delay: -1.2s;
        background: radial-gradient(circle at 30% 30%, rgba(0, 212, 143, 0.8), rgba(0, 212, 143, 0.04));
      }
      .blob.b3 {
        width: 280px;
        height: 280px;
        left: 18%;
        bottom: -120px;
        animation-delay: -2.1s;
        background: radial-gradient(circle at 30% 30%, rgba(255, 77, 109, 0.7), rgba(255, 77, 109, 0.03));
      }
      @keyframes float {
        0%,
        100% {
          transform: translate3d(0, 0, 0) scale(1);
        }
        50% {
          transform: translate3d(0, -14px, 0) scale(1.03);
        }
      }

      .content {
        position: relative;
        z-index: 1;
        display: grid;
        gap: 14px;
        padding: 16px;
        border-radius: var(--radius2);
        background: linear-gradient(180deg, rgba(255, 255, 255, 0.09), rgba(255, 255, 255, 0.05));
        border: 1px solid rgba(255, 255, 255, 0.12);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.32);
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
      }

      .kicker {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-size: 12px;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.68);
      }
      .chip {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 7px 10px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(255, 255, 255, 0.06);
        box-shadow: 0 10px 24px rgba(0, 0, 0, 0.18);
      }
      .dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: linear-gradient(135deg, var(--accent), var(--accent2));
      }

      h1,
      h2 {
        margin: 0;
        letter-spacing: -0.02em;
      }
      h1 {
        font-size: 30px;
        line-height: 1.06;
      }
      h2 {
        font-size: 22px;
        line-height: 1.12;
      }

      p {
        margin: 0;
        color: var(--muted);
        line-height: 1.45;
        font-size: 14px;
      }

      .hero {
        display: grid;
        gap: 10px;
      }

      .bigNumber {
        font-variant-numeric: tabular-nums;
        font-size: 38px;
        line-height: 1;
        font-weight: 900;
        letter-spacing: -0.04em;
      }
      .bigNumber .unit {
        font-size: 14px;
        font-weight: 800;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.72);
        margin-left: 8px;
      }

      .accentText {
        background: linear-gradient(135deg, rgba(0, 212, 143, 0.98), rgba(124, 77, 255, 0.98));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      .grid2 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
      }
      .stat {
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.06);
        padding: 12px;
        display: grid;
        gap: 8px;
        min-height: 78px;
      }
      .stat .label {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.64);
        letter-spacing: 0.06em;
        text-transform: uppercase;
      }
      .stat .value {
        font-weight: 900;
        font-size: 16px;
        letter-spacing: -0.02em;
        color: rgba(255, 255, 255, 0.92);
      }
      .stat .sub {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.62);
      }

      .pillRow {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }
      .pill {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 9px 11px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(255, 255, 255, 0.06);
        color: rgba(255, 255, 255, 0.82);
        font-weight: 800;
        font-size: 13px;
        max-width: 100%;
      }
      .pill span {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .footerHint {
        margin-top: 10px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding: 10px 12px;
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(0, 0, 0, 0.12);
      }
      .footerHint .left {
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 0;
      }
      .hintIcon {
        width: 28px;
        height: 28px;
        border-radius: 12px;
        display: grid;
        place-items: center;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.12);
      }
      .footerHint .txt {
        min-width: 0;
      }
      .footerHint .txt .t {
        font-size: 13px;
        font-weight: 800;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      .footerHint .txt .d {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.64);
      }

      .dots {
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .dots button {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        border: 0;
        background: rgba(255, 255, 255, 0.22);
        padding: 0;
        cursor: pointer;
      }
      .dots button[aria-current="true"] {
        width: 20px;
        background: linear-gradient(90deg, var(--accent), var(--accent2));
      }

      .toast {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        bottom: calc(14px + var(--safeB));
        z-index: 10;
        padding: 10px 12px;
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.16);
        background: rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        box-shadow: 0 18px 50px rgba(0, 0, 0, 0.35);
        opacity: 0;
        pointer-events: none;
        transition: opacity 200ms ease, transform 200ms ease;
        transform: translateX(-50%) translateY(8px);
        font-weight: 800;
        font-size: 13px;
        color: rgba(255, 255, 255, 0.9);
      }
      .toast.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      @media (min-width: 520px) {
        .story {
          max-width: 460px;
          margin-left: auto;
          margin-right: auto;
        }
      }

      @media (prefers-reduced-motion: reduce) {
        .blob {
          animation: none;
        }
        .rail {
          scroll-behavior: auto;
        }
        .progress > i {
          transition: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="app" role="application" aria-label="Rewind 2025 story">
      <div class="topbar">
        <div class="progress" aria-hidden="true"><i id="progressBar"></i></div>
        <div class="headerRow">
          <div class="brand" aria-label="Th√¥ng tin c·ª≠a h√†ng">
            <div class="badge" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none">
                <path
                  d="M12 2.5c3.3 0 6 2.7 6 6 0 5-6 13-6 13S6 13.5 6 8.5c0-3.3 2.7-6 6-6Z"
                  stroke="rgba(255,255,255,.92)"
                  stroke-width="1.8"
                />
                <path
                  d="M9.2 8.6h5.6M9.2 11.2h5.6M9.2 13.8h3.6"
                  stroke="rgba(255,255,255,.92)"
                  stroke-width="1.8"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <div class="brandText">
              <div class="kicker">IN-APP REWIND</div>
              <div class="title" data-key="storeName">T√™n c·ª≠a h√†ng</div>
            </div>
          </div>
          <div class="actions">
            <button class="btn btnGhost" id="prevBtn" type="button" aria-label="Slide tr∆∞·ªõc">
              ‚Äπ
            </button>
            <button class="btn btnPrimary" id="nextBtn" type="button" aria-label="Slide ti·∫øp theo">
              Ti·∫øp ‚Ä∫
            </button>
          </div>
        </div>
      </div>

      <div class="story" aria-label="Story swipe ngang">
        <div class="rail" id="rail">
          <!-- Slide 1: Intro -->
          <section class="slide" aria-label="Gi·ªõi thi·ªáu">
            <div class="backdrop" aria-hidden="true">
              <div class="blob b1"></div>
              <div class="blob b2"></div>
              <div class="blob b3"></div>
            </div>
            <div class="content">
              <div class="kicker">
                <span class="chip"><span class="dot"></span> REWIND 2025</span>
                <span aria-hidden="true">‚Ä¢</span>
                <span data-key="year">2025</span>
              </div>
              <div class="hero">
                <h1>
                  C·ª≠a h√†ng ∆°i, <span class="accentText">2025</span> l√† m·ªôt nƒÉm b·∫≠n r·ªôn t·∫°i
                  <span class="accentText" data-key="storeNameInline">C·ª≠a h√†ng</span> ƒë·∫•y!
                </h1>
                <p>
                  M·ªói c·ªôt m·ªëc l√† m·ªôt d·∫•u ·∫•n c·ªßa s·ª± b·ªÅn b·ªâ v√† tƒÉng tr∆∞·ªüng kh√¥ng ng·ª´ng trong nƒÉm.
                  C√πng Grab nh√¨n l·∫°i m·ªôt nƒÉm ƒë√°ng nh·ªõ nh√© üëá
                </p>
              </div>

              <div class="footerHint">
                <div class="left">
                  <div class="hintIcon" aria-hidden="true">‚Üî</div>
                  <div class="txt">
                    <div class="t">Vu·ªët ngang ƒë·ªÉ xem ti·∫øp</div>
                    <div class="d">Ho·∫∑c b·∫•m ‚ÄúTi·∫øp‚Äù ƒë·ªÉ chuy·ªÉn slide</div>
                  </div>
                </div>
                <div class="dots" id="dots" aria-label="Ch·ªâ b√°o slide"></div>
              </div>
            </div>
          </section>

          <!-- Slide 2: Total products -->
          <section class="slide" aria-label="T·ªïng s·ªë s·∫£n ph·∫©m b√°n ra">
            <div class="backdrop" aria-hidden="true">
              <div class="blob b1"></div>
              <div class="blob b2"></div>
              <div class="blob b3"></div>
            </div>
            <div class="content">
              <div class="kicker">
                <span class="chip"><span class="dot"></span> C·ªòT M·ªêC #1</span>
              </div>
              <h2>T·ªïng s·ªë s·∫£n ph·∫©m b√°n ra trong nƒÉm</h2>
              <div class="bigNumber">
                <span data-key="totalProducts">‚Äî</span><span class="unit">s·∫£n ph·∫©m</span>
              </div>
              <p>
                ƒê√£ c√≥ <strong data-key="totalProductsStrong">‚Äî</strong> s·∫£n ph·∫©m t·∫°i C·ª≠a h√†ng ƒë√£
                ƒë∆∞·ª£c trao ƒë·∫øn Ng∆∞·ªùi d√πng trong nƒÉm qua.
              </p>
              <div class="grid2" role="group" aria-label="T√≥m t·∫Øt nhanh">
                <div class="stat">
                  <div class="label">NƒÉm</div>
                  <div class="value" data-key="year">2025</div>
                  <div class="sub">H√†nh tr√¨nh tƒÉng tr∆∞·ªüng</div>
                </div>
                <div class="stat">
                  <div class="label">T·ªëc ƒë·ªô</div>
                  <div class="value"><span data-key="avgPerDay">‚Äî</span>/ng√†y</div>
                  <div class="sub">∆Ø·ªõc t√≠nh trung b√¨nh</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Slide 3: Best seller -->
          <section class="slide" aria-label="S·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t">
            <div class="backdrop" aria-hidden="true">
              <div class="blob b1"></div>
              <div class="blob b2"></div>
              <div class="blob b3"></div>
            </div>
            <div class="content">
              <div class="kicker">
                <span class="chip"><span class="dot"></span> C·ªòT M·ªêC #2</span>
              </div>
              <h2>S·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t trong nƒÉm</h2>
              <p>
                ‚ÄúN√†ng th∆°‚Äù c·ªßa C·ª≠a h√†ng ch√≠nh l√† s·∫£n ph·∫©m g√¢y th∆∞∆°ng nh·ªõ nh·∫•t v√† ƒë∆∞·ª£c Ng∆∞·ªùi d√πng ƒë·∫∑t
                nhi·ªÅu nh·∫•t nƒÉm qua:
              </p>
              <div class="pillRow">
                <div class="pill" aria-label="T√™n s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t">
                  <span aria-hidden="true">‚≠ê</span>
                  <span data-key="bestProductName">T√™n s·∫£n ph·∫©m</span>
                </div>
                <div class="pill" aria-label="S·ªë l∆∞·ª£t ƒë·∫∑t s·∫£n ph·∫©m b√°n ch·∫°y">
                  <span aria-hidden="true">üßæ</span>
                  <span><span data-key="bestProductOrders">‚Äî</span> l∆∞·ª£t ƒë·∫∑t</span>
                </div>
              </div>
              <div class="grid2">
                <div class="stat">
                  <div class="label">T·ªâ tr·ªçng</div>
                  <div class="value"><span data-key="bestProductShare">‚Äî</span>%</div>
                  <div class="sub">Trong t·ªïng s·ªë s·∫£n ph·∫©m</div>
                </div>
                <div class="stat">
                  <div class="label">ƒêi·ªÉm nh·∫•n</div>
                  <div class="value accentText">G√¢y th∆∞∆°ng nh·ªõ</div>
                  <div class="sub">Gi·ªØ ch·∫•t l∆∞·ª£ng ·ªïn ƒë·ªãnh</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Slide 4: Best campaign -->
          <section class="slide" aria-label="Chi·∫øn d·ªãch mang l·∫°i nhi·ªÅu ƒë∆°n nh·∫•t">
            <div class="backdrop" aria-hidden="true">
              <div class="blob b1"></div>
              <div class="blob b2"></div>
              <div class="blob b3"></div>
            </div>
            <div class="content">
              <div class="kicker">
                <span class="chip"><span class="dot"></span> C·ªòT M·ªêC #3</span>
              </div>
              <h2>Chi·∫øn d·ªãch mang l·∫°i nhi·ªÅu ƒë∆°n nh·∫•t</h2>
              <p>
                Chi·∫øn d·ªãch <strong data-key="topCampaignNameStrong">Chi·∫øn d·ªãch</strong> ƒë√£ g√≥p m·ªôt
                ph·∫ßn gi√∫p C·ª≠a h√†ng ‚Äúl√™n h∆∞∆°ng‚Äù v√† thu h√∫t v·ªÅ nhi·ªÅu ƒë∆°n h√†ng.
              </p>
              <div class="pillRow">
                <div class="pill" aria-label="T√™n chi·∫øn d·ªãch top">
                  <span aria-hidden="true">üöÄ</span>
                  <span data-key="topCampaignName">Chi·∫øn d·ªãch</span>
                </div>
                <div class="pill" aria-label="S·ªë ƒë∆°n t·ª´ chi·∫øn d·ªãch">
                  <span aria-hidden="true">üì¶</span>
                  <span><span data-key="topCampaignOrders">‚Äî</span> ƒë∆°n</span>
                </div>
              </div>
              <div class="grid2">
                <div class="stat">
                  <div class="label">Hi·ªáu qu·∫£</div>
                  <div class="value"><span data-key="topCampaignLift">‚Äî</span>x</div>
                  <div class="sub">So v·ªõi ng√†y th∆∞·ªùng</div>
                </div>
                <div class="stat">
                  <div class="label">G·ª£i √Ω</div>
                  <div class="value">Duy tr√¨ ƒë·ªÅu</div>
                  <div class="sub">T·ªëi ∆∞u menu & h√¨nh ·∫£nh</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Slide 5: Peak hours -->
          <section class="slide" aria-label="Khung gi·ªù nhi·ªÅu ƒë∆°n nh·∫•t">
            <div class="backdrop" aria-hidden="true">
              <div class="blob b1"></div>
              <div class="blob b2"></div>
              <div class="blob b3"></div>
            </div>
            <div class="content">
              <div class="kicker">
                <span class="chip"><span class="dot"></span> C·ªòT M·ªêC #4</span>
              </div>
              <h2>Khung gi·ªù nhi·ªÅu ƒë∆°n nh·∫•t</h2>
              <div class="bigNumber">
                <span class="accentText">Gi·ªù v√†ng</span>
              </div>
              <p>
                Gi·ªù v√†ng C·ª≠a h√†ng n·ªï ƒë∆°n l√† t·ª´
                <strong><span data-key="peakStart">xx</span>h‚Äì<span data-key="peakEnd">xx</span>h</strong>.
                ƒê·ªëi t√°c h√£y ghi s·ªï l·∫°i khung gi·ªù n√†y ƒë·ªÉ chu·∫©n b·ªã v·∫≠n h√†nh th·∫≠t t·ªët v√† ƒë√≥n ƒë∆°n v·ªÅ nh√©!
              </p>
              <div class="grid2">
                <div class="stat">
                  <div class="label">Khung gi·ªù</div>
                  <div class="value">
                    <span data-key="peakStart">xx</span>h‚Äì<span data-key="peakEnd">xx</span>h
                  </div>
                  <div class="sub">Gi·ªù cao ƒëi·ªÉm</div>
                </div>
                <div class="stat">
                  <div class="label">Chu·∫©n b·ªã</div>
                  <div class="value">V·∫≠n h√†nh x·ªãn</div>
                  <div class="sub">S·∫µn h√†ng ‚Ä¢ S·∫µn ng∆∞·ªùi ‚Ä¢ S·∫µn b·∫øp</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Slide 6: Merchant naming / Top store in province -->
          <section class="slide" aria-label="C·ª≠a h√†ng tuy·ªát ƒë·ªânh t·∫°i T·ªânh">
            <div class="backdrop" aria-hidden="true">
              <div class="blob b1"></div>
              <div class="blob b2"></div>
              <div class="blob b3"></div>
            </div>
            <div class="content">
              <div class="kicker">
                <span class="chip"><span class="dot"></span> B·∫¢NG V√ÄNG</span>
              </div>
              <h2>
                C·ª≠a h√†ng tuy·ªát ƒë·ªânh t·∫°i <span class="accentText" data-key="province">T·ªânh</span>
              </h2>
              <p>
                B·∫£ng v√†ng g·ªçi t√™n!!! ƒê·ªëi t√°c ch√≠nh l√†
                <strong class="accentText" data-key="storeNameInline2">C·ª≠a h√†ng</strong>
                thu·ªôc top nh·ªØng C·ª≠a h√†ng c√≥ ho·∫°t ƒë·ªông n·ªïi b·∫≠t nh·∫•t t·∫°i
                <strong data-key="provinceStrong">T·ªânh</strong> trong nƒÉm <strong data-key="year">2025</strong>.
              </p>
              <div class="pillRow">
                <div class="pill" aria-label="Danh hi·ªáu">
                  <span aria-hidden="true">üèÜ</span>
                  <span data-key="awardTitle">Top C·ª≠a h√†ng n·ªïi b·∫≠t</span>
                </div>
                <div class="pill" aria-label="H·∫°ng">
                  <span aria-hidden="true">üìà</span>
                  <span>H·∫°ng <span data-key="rank">‚Äî</span></span>
                </div>
              </div>
              <p>
                H√£y gi·ªØ v·ªØng phong ƒë·ªô ƒë·ªÉ nƒÉm <strong>2026</strong> b·ª©t ph√° h∆°n n·ªØa c√πng Grab nh√© ƒê·ªëi t√°c ∆°i!
              </p>
              <div class="grid2">
                <div class="stat">
                  <div class="label">G·ª£i √Ω 2026</div>
                  <div class="value">L√†m m·ªõi menu</div>
                  <div class="sub">M√≥n m·ªõi theo m√πa ‚Ä¢ Combo th√¥ng minh</div>
                </div>
                <div class="stat">
                  <div class="label">V·∫≠n h√†nh</div>
                  <div class="value">·ªîn ƒë·ªãnh & nhanh</div>
                  <div class="sub">Gi·∫£m hu·ª∑ ‚Ä¢ Gi·∫£m tr·ªÖ ‚Ä¢ TƒÉng ƒë√°nh gi√°</div>
                </div>
              </div>
            </div>
          </section>

          <!-- Slide 7: Closing / Share -->
          <section class="slide" aria-label="K·∫øt th√∫c v√† chia s·∫ª">
            <div class="backdrop" aria-hidden="true">
              <div class="blob b1"></div>
              <div class="blob b2"></div>
              <div class="blob b3"></div>
            </div>
            <div class="content">
              <div class="kicker">
                <span class="chip"><span class="dot"></span> S·∫¥N S√ÄNG 2026</span>
              </div>
              <h1>
                T·ª± h√†o v·ªÅ h√†nh tr√¨nh <span class="accentText">2025</span> v√† s·∫µn s√†ng cho m·ªôt nƒÉm
                <span class="accentText">2026 b·ª©t ph√°</span>.
              </h1>
              <p>
                Grab s·∫Ω lu√¥n ƒë·ªìng h√†nh c√πng ƒê·ªëi t√°c tr√™n h√†nh tr√¨nh ch·∫°m ƒë·∫øn nh·ªØng c·ªôt m·ªëc doanh thu m·ªõi.
                C√πng Grab chu·∫©n b·ªã cho m·ªôt nƒÉm m·ªõi ƒë·∫°i th·∫Øng nh√©!
              </p>
              <div class="grid2" aria-label="T√≥m t·∫Øt th√†nh t√≠ch">
                <div class="stat">
                  <div class="label">T·ªïng s·∫£n ph·∫©m</div>
                  <div class="value"><span data-key="totalProducts">‚Äî</span></div>
                  <div class="sub">Trao ƒë·∫øn Ng∆∞·ªùi d√πng</div>
                </div>
                <div class="stat">
                  <div class="label">Gi·ªù v√†ng</div>
                  <div class="value">
                    <span data-key="peakStart">xx</span>h‚Äì<span data-key="peakEnd">xx</span>h
                  </div>
                  <div class="sub">Khung gi·ªù n·ªï ƒë∆°n</div>
                </div>
              </div>
              <div class="pillRow" style="margin-top: 6px">
                <button class="btn btnPrimary" id="shareBtn" type="button">
                  KHOE CHI·∫æN T√çCH X·ªäN X√í ‚Äì CHIA S·∫∫ NGAY!
                </button>
                <button class="btn" id="copyBtn" type="button" aria-label="Copy n·ªôi dung chia s·∫ª">
                  Copy n·ªôi dung
                </button>
              </div>
              <p style="color: rgba(255, 255, 255, 0.6)">
                Tip: B·∫°n c√≥ th·ªÉ b∆°m d·ªØ li·ªáu th·∫≠t b·∫±ng c√°ch set <code>window.__REWIND_DATA__</code> tr∆∞·ªõc khi load trang.
              </p>
            </div>
          </section>
        </div>
      </div>

      <div class="toast" id="toast" role="status" aria-live="polite">ƒê√£ copy!</div>
    </div>

    <script>
      (function () {
        const DEFAULT_DATA = {
          year: "2025",
          storeName: "T√™n c·ª≠a h√†ng",
          province: "T·ªânh/Th√†nh ph·ªë",
          totalProducts: 12345,
          bestProductName: "T√™n s·∫£n ph·∫©m",
          bestProductOrders: 2345,
          bestProductShare: 19,
          topCampaignName: "Chi·∫øn d·ªãch",
          topCampaignOrders: 987,
          topCampaignLift: 2.4,
          peakStart: "11",
          peakEnd: "13",
          awardTitle: "Top C·ª≠a h√†ng n·ªïi b·∫≠t",
          rank: "‚Äî",
        };

        const data = Object.assign({}, DEFAULT_DATA, window.__REWIND_DATA__ || {});

        const fmtInt = (n) =>
          typeof n === "number"
            ? new Intl.NumberFormat("vi-VN").format(Math.round(n))
            : String(n ?? "‚Äî");
        const fmtNum = (n) =>
          typeof n === "number"
            ? new Intl.NumberFormat("vi-VN", { maximumFractionDigits: 1 }).format(n)
            : String(n ?? "‚Äî");

        // Derivations
        const avgPerDay =
          typeof data.totalProducts === "number"
            ? Math.max(1, Math.round(data.totalProducts / 365))
            : "‚Äî";

        const bind = (key, value) => {
          document.querySelectorAll(`[data-key="${key}"]`).forEach((el) => {
            el.textContent = value;
          });
        };

        bind("year", String(data.year ?? "2025"));
        bind("storeName", String(data.storeName ?? "T√™n c·ª≠a h√†ng"));
        bind("storeNameInline", String(data.storeName ?? "C·ª≠a h√†ng"));
        bind("storeNameInline2", String(data.storeName ?? "C·ª≠a h√†ng"));
        bind("province", String(data.province ?? "T·ªânh"));
        bind("provinceStrong", String(data.province ?? "T·ªânh"));
        bind("totalProducts", fmtInt(data.totalProducts));
        bind("totalProductsStrong", fmtInt(data.totalProducts));
        bind("avgPerDay", fmtInt(avgPerDay));
        bind("bestProductName", String(data.bestProductName ?? "T√™n s·∫£n ph·∫©m"));
        bind("bestProductOrders", fmtInt(data.bestProductOrders));
        bind("bestProductShare", fmtNum(data.bestProductShare));
        bind("topCampaignName", String(data.topCampaignName ?? "Chi·∫øn d·ªãch"));
        bind("topCampaignNameStrong", String(data.topCampaignName ?? "Chi·∫øn d·ªãch"));
        bind("topCampaignOrders", fmtInt(data.topCampaignOrders));
        bind("topCampaignLift", fmtNum(data.topCampaignLift));
        bind("peakStart", String(data.peakStart ?? "xx"));
        bind("peakEnd", String(data.peakEnd ?? "xx"));
        bind("awardTitle", String(data.awardTitle ?? "Top C·ª≠a h√†ng n·ªïi b·∫≠t"));
        bind("rank", String(data.rank ?? "‚Äî"));

        const rail = document.getElementById("rail");
        const slides = Array.from(rail.querySelectorAll(".slide"));
        const progressBar = document.getElementById("progressBar");
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");
        const dots = document.getElementById("dots");

        const toast = document.getElementById("toast");
        let toastTimer = null;
        const showToast = (msg) => {
          toast.textContent = msg;
          toast.classList.add("show");
          window.clearTimeout(toastTimer);
          toastTimer = window.setTimeout(() => toast.classList.remove("show"), 1600);
        };

        // Dots
        slides.forEach((_, idx) => {
          const b = document.createElement("button");
          b.type = "button";
          b.setAttribute("aria-label", `ƒêi ƒë·∫øn slide ${idx + 1}`);
          b.addEventListener("click", () => goTo(idx));
          dots.appendChild(b);
        });

        const clamp = (n, a, b) => Math.max(a, Math.min(b, n));
        const currentIndex = () => {
          const w = rail.clientWidth || 1;
          return clamp(Math.round(rail.scrollLeft / w), 0, slides.length - 1);
        };

        const setUI = (idx) => {
          const pct = ((idx + 1) / slides.length) * 100;
          progressBar.style.width = `${pct}%`;
          prevBtn.disabled = idx === 0;
          nextBtn.disabled = false;
          nextBtn.textContent = idx === slides.length - 1 ? "Xem l·∫°i ‚Ü∫" : "Ti·∫øp ‚Ä∫";
          Array.from(dots.children).forEach((d, i) => {
            d.setAttribute("aria-current", i === idx ? "true" : "false");
          });
        };

        const goTo = (idx) => {
          const w = rail.clientWidth || 1;
          rail.scrollTo({ left: idx * w, behavior: "smooth" });
          setUI(idx);
        };

        // Initial
        setUI(0);

        let scrollRaf = 0;
        rail.addEventListener(
          "scroll",
          () => {
            window.cancelAnimationFrame(scrollRaf);
            scrollRaf = window.requestAnimationFrame(() => setUI(currentIndex()));
          },
          { passive: true },
        );

        prevBtn.addEventListener("click", () => goTo(currentIndex() - 1));
        nextBtn.addEventListener("click", () => {
          const idx = currentIndex();
          if (idx < slides.length - 1) return goTo(idx + 1);
          goTo(0);
          showToast("Xem l·∫°i t·ª´ ƒë·∫ßu nha!");
        });

        // Keyboard (debug / desktop)
        window.addEventListener("keydown", (e) => {
          if (e.key === "ArrowLeft") goTo(currentIndex() - 1);
          if (e.key === "ArrowRight") goTo(currentIndex() + 1);
        });

        // Share
        const makeShareText = () => {
          const store = String(data.storeName ?? "C·ª≠a h√†ng");
          const province = String(data.province ?? "T·ªânh/Th√†nh ph·ªë");
          const total = fmtInt(data.totalProducts);
          const best = String(data.bestProductName ?? "m√≥n best-seller");
          const peak = `${String(data.peakStart ?? "xx")}h‚Äì${String(data.peakEnd ?? "xx")}h`;
          const campaign = String(data.topCampaignName ?? "chi·∫øn d·ªãch top");
          return [
            `Rewind 2025 c·ªßa ${store} ‚ú®`,
            `- T·ªïng s·∫£n ph·∫©m ƒë√£ b√°n: ${total}`,
            `- Best-seller: ${best}`,
            `- Chi·∫øn d·ªãch mang nhi·ªÅu ƒë∆°n nh·∫•t: ${campaign}`,
            `- Gi·ªù v√†ng n·ªï ƒë∆°n: ${peak}`,
            `- Khu v·ª±c: ${province}`,
            ``,
            `S·∫µn s√†ng b·ª©t ph√° 2026 c√πng Grab!`,
          ].join("\n");
        };

        const shareBtn = document.getElementById("shareBtn");
        const copyBtn = document.getElementById("copyBtn");

        const copyText = async (text) => {
          try {
            await navigator.clipboard.writeText(text);
            showToast("ƒê√£ copy n·ªôi dung chia s·∫ª!");
            return true;
          } catch (err) {
            // Fallback
            const ta = document.createElement("textarea");
            ta.value = text;
            ta.style.position = "fixed";
            ta.style.left = "-9999px";
            document.body.appendChild(ta);
            ta.select();
            const ok = document.execCommand("copy");
            document.body.removeChild(ta);
            showToast(ok ? "ƒê√£ copy n·ªôi dung chia s·∫ª!" : "Copy th·∫•t b·∫°i");
            return ok;
          }
        };

        shareBtn.addEventListener("click", async () => {
          const text = makeShareText();
          if (navigator.share) {
            try {
              await navigator.share({
                title: "Rewind 2025",
                text,
              });
              showToast("ƒê√£ m·ªü chia s·∫ª!");
              return;
            } catch (err) {
              // user cancelled -> silent, else fallback copy
            }
          }
          await copyText(text);
        });

        copyBtn.addEventListener("click", async () => {
          await copyText(makeShareText());
        });

        // Keep snap consistent after rotation
        let resizeTimer = null;
        window.addEventListener("resize", () => {
          window.clearTimeout(resizeTimer);
          resizeTimer = window.setTimeout(() => goTo(currentIndex()), 120);
        });
      })();
    </script>
  </body>
</html>

